<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="main_menu.css">
  <title>Level Select - Maze Game</title>
</head>
<body>
  <div class="level-select-container">
    <h1 class="level-select-title">Select a Level</h1>

    <!-- Level Select Buttons -->
    <div class="level-buttons">
      <a href="../game_area/game.html?level=1"><button class="level-button">1</button></a>
      <a href="../game_area/game.html?level=2"><button class="level-button">2</button></a>
      <a href="../game_area/game.html?level=3"><button class="level-button">3</button></a>
      <a href="../game_area/game.html?level=4"><button class="level-button">4</button></a>
      <a href="../game_area/game.html?level=5"><button class="level-button">5</button></a>
      <a href="../game_area/game.html?level=6"><button class="level-button">6</button></a>
      <a href="../game_area/game.html?level=7"><button class="level-button">7</button></a>
      <a href="../game_area/game.html?level=8"><button class="level-button">8</button></a>
      <a href="../game_area/game.html?level=9"><button class="level-button">9</button></a>
      <a href="../game_area/game.html?level=10"><button class="level-button">10</button></a>
    </div>

    <!-- Back Button -->
    <a href="index.html">
      <button class="menu-button">Back to Main Menu</button>
    </a>
  </div>

  <script>
    // disable buttons beyond progression + 1
    const maxUnlocked = parseInt(localStorage.getItem('maxUnlockedLevel') || '1', 10);
    const allowed = maxUnlocked;
    document.querySelectorAll('.level-buttons a').forEach(a => {
      const btn = a.querySelector('button');
      const lvl = parseInt(btn.textContent, 10);
      if (lvl > allowed) {
        btn.disabled = true;
        btn.style.opacity = '0.4';
        a.removeAttribute('href');
      }
    });
  </script>
</body>
</html>